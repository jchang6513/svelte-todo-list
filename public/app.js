var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function c(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function i(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function p(){return u(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e,n){t.classList[n?"add":"remove"](e)}let v;function g(t){v=t}function $(){const t=v;return(e,n)=>{const o=t.$$.callbacks[e];if(o){const c=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,c)})}}}const x=[],k=Promise.resolve();let _=!1;const b=[],C=[],T=[];function N(t){C.push(t)}function w(){const t=new Set;do{for(;x.length;){const t=x.shift();g(t),E(t.$$)}for(;b.length;)b.shift()();for(;C.length;){const e=C.pop();t.has(e)||(e(),t.add(e))}}while(x.length);for(;T.length;)T.pop()();_=!1}function E(t){t.fragment&&(t.update(t.dirty),o(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(N))}function j(t,n,l){const{fragment:r,on_mount:s,on_destroy:a,after_render:i}=t.$$;r.m(n,l),N(()=>{const n=s.map(e).filter(c);a?a.push(...n):o(n),t.$$.on_mount=[]}),i.forEach(N)}function L(t,e){t.$$.dirty||(x.push(t),_||(_=!0,k.then(w)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function A(e,c,l,r,s,a){const i=v;g(e);const d=c.props||{},u=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(i?i.$$.context:[]),callbacks:n(),dirty:null};let p=!1;var f;u.ctx=l?l(e,d,(t,n)=>{u.ctx&&s(u.ctx[t],u.ctx[t]=n)&&(u.bound[t]&&u.bound[t](n),p&&L(e,t))}):d,u.update(),p=!0,o(u.before_render),u.fragment=r(u.ctx),c.target&&(c.hydrate?u.fragment.l((f=c.target,Array.from(f.childNodes))):u.fragment.c(),c.intro&&e.$$.fragment.i&&e.$$.fragment.i(),j(e,c.target,c.anchor),w()),g(i)}class O{$destroy(){var e,n;n=!0,(e=this).$$&&(o(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}class S{static set(t,e){localStorage.setItem(t,JSON.stringify(e))}static get(t){return JSON.parse(localStorage.getItem(t))}static isExist(t){return!!localStorage.getItem(t)}}function I(t,e,n){const o=Object.create(t);return o.text=e[n].text,o.value=e[n].value,o.index=n,o}function D(t){var e,n,o,c,l=t.text;function i(){return t.click_handler_1(t)}return{c(){e=d("p"),n=u(l),o=u(" Tasks\n      "),e.className="type-item svelte-xacdjd",c=f(e,"click",i)},m(t,c){s(t,e,c),r(e,n),r(e,o)},p(e,o){t=o,e.types&&l!==(l=t.text)&&m(n,l)},d(t){t&&a(e),c()}}}function J(e){for(var n,o,c,l,h,v,g,$,x,k=e.type.text,_=e.types,b=[],C=0;C<_.length;C+=1)b[C]=D(I(e,_,C));return{c(){n=d("div"),o=d("h5"),c=u(k),l=u(" Tasks"),h=p(),v=d("button"),g=p(),$=d("div");for(var t=0;t<b.length;t+=1)b[t].c();o.className="title svelte-xacdjd",v.className="btn-toggle svelte-xacdjd",y(v,"show",e.typeCollapse),$.className="type-group svelte-xacdjd",y($,"show",e.typeCollapse),n.className="header svelte-xacdjd",x=f(v,"click",e.click_handler)},m(t,e){s(t,n,e),r(n,o),r(o,c),r(o,l),r(n,h),r(n,v),r(n,g),r(n,$);for(var a=0;a<b.length;a+=1)b[a].m($,null)},p(t,e){if(t.type&&k!==(k=e.type.text)&&m(c,k),t.typeCollapse&&y(v,"show",e.typeCollapse),t.types){_=e.types;for(var n=0;n<_.length;n+=1){const o=I(e,_,n);b[n]?b[n].p(t,o):(b[n]=D(o),b[n].c(),b[n].m($,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=_.length}t.typeCollapse&&y($,"show",e.typeCollapse)},i:t,o:t,d(t){t&&a(n),i(b,t),x()}}}function M(t,e,n){const o=$();let{typeCollapse:c,type:l,types:r}=e;function s(){o("toggle")}function a(t){o("change",{value:t})}return t.$set=(t=>{"typeCollapse"in t&&n("typeCollapse",c=t.typeCollapse),"type"in t&&n("type",l=t.type),"types"in t&&n("types",r=t.types)}),{typeCollapse:c,type:l,types:r,onToggle:s,onChange:a,click_handler:function(){return s()},click_handler_1:function({value:t}){return a(t)}}}class q extends O{constructor(t){super(),A(this,t,M,J,l,["typeCollapse","type","types"])}}function B(t,e,n){const o=Object.create(t);return o.todo=e[n],o.index=n,o}function F(t){var e,n,c,l,i,y,v,g,$,x,k,_=t.todo.title;function b(){return t.click_handler(t)}function C(){return t.click_handler_1(t)}return{c(){e=d("div"),n=d("div"),c=d("input"),i=p(),y=d("label"),v=u(_),g=p(),($=d("button")).textContent="✕",x=p(),c.id=`item-${t.index}`,c.className="checkbox svelte-1lvcubn",h(c,"type","checkbox"),c.checked=l=t.todo.checked,y.className="checkbox-label svelte-1lvcubn",y.htmlFor=`item-${t.index}`,n.className="checkbox-group svelte-1lvcubn",$.className="remove svelte-1lvcubn",e.className="todo-item svelte-1lvcubn",k=[f(c,"click",b),f($,"click",C)]},m(t,o){s(t,e,o),r(e,n),r(n,c),r(n,i),r(n,y),r(y,v),r(e,g),r(e,$),r(e,x)},p(e,n){t=n,e.todos&&l!==(l=t.todo.checked)&&(c.checked=l),e.todos&&_!==(_=t.todo.title)&&m(v,_)},d(t){t&&a(e),o(k)}}}function P(e){for(var n,o=e.todos,c=[],l=0;l<o.length;l+=1)c[l]=F(B(e,o,l));return{c(){n=d("div");for(var t=0;t<c.length;t+=1)c[t].c();n.className="todo-items svelte-1lvcubn"},m(t,e){s(t,n,e);for(var o=0;o<c.length;o+=1)c[o].m(n,null)},p(t,e){if(t.todos){o=e.todos;for(var l=0;l<o.length;l+=1){const r=B(e,o,l);c[l]?c[l].p(t,r):(c[l]=F(r),c[l].c(),c[l].m(n,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=o.length}},i:t,o:t,d(t){t&&a(n),i(c,t)}}}function R(t,e,n){const o=$();let{todos:c}=e;function l(t,e){o("check",{id:t,value:e})}function r(t){o("remove",{id:t})}return t.$set=(t=>{"todos"in t&&n("todos",c=t.todos)}),{todos:c,onCheck:l,onRemove:r,click_handler:function({todo:t}){return l(t.id,{checked:!t.checked})},click_handler_1:function({todo:t}){return r(t.id)}}}class U extends O{constructor(t){super(),A(this,t,R,P,l,["todos"])}}function z(t){var e,n,c,l,i,m,y,v,g,$,x,k=new q({props:{typeCollapse:t.typeCollapse,type:t.type,types:t.types}});k.$on("toggle",t.toggle_handler),k.$on("change",t.change_handler);var _=new U({props:{todos:H(t.type,t.todos)}});return _.$on("check",t.check_handler),_.$on("remove",t.remove_handler),{c(){var o;e=d("div"),k.$$.fragment.c(),n=p(),_.$$.fragment.c(),c=p(),l=d("form"),i=d("input"),m=p(),y=d("button"),v=u("＋"),i.className="todo-title svelte-8l4c42",h(i,"type","text"),i.name="to-do",y.className="todo-submit svelte-8l4c42",y.disabled=g=""===t.todoTitle,l.className="todo-form svelte-8l4c42",e.className="todo-list svelte-8l4c42",x=[f(i,"input",t.input_input_handler),f(l,"submit",(o=t.addTodo,function(t){return t.preventDefault(),o.call(this,t)}))]},m(o,a){s(o,e,a),j(k,e,null),r(e,n),j(_,e,null),r(e,c),r(e,l),r(l,i),i.value=t.todoTitle,r(l,m),r(l,y),r(y,v),$=!0},p(t,e){var n={};t.typeCollapse&&(n.typeCollapse=e.typeCollapse),t.type&&(n.type=e.type),t.types&&(n.types=e.types),k.$set(n);var o={};(t.getTodos||t.type||t.todos)&&(o.todos=H(e.type,e.todos)),_.$set(o),t.todoTitle&&i.value!==e.todoTitle&&(i.value=e.todoTitle),$&&!t.todoTitle||g===(g=""===e.todoTitle)||(y.disabled=g)},i(t){$||(k.$$.fragment.i(t),_.$$.fragment.i(t),$=!0)},o(t){k.$$.fragment.o(t),_.$$.fragment.o(t),$=!1},d(t){t&&a(e),k.$destroy(),_.$destroy(),o(x)}}}function G(){return parseInt(1e5*(Date.now()+Math.random()))}function H(t,e){return e.filter(e=>{switch(t.value){case 1:return!0;case 2:return!1===e.checked;case 3:return!0===e.checked}})}function K(t,e,n){let o=!1,c={text:"All",value:1},l=[{text:"All",value:1},{text:"Todo",value:2},{text:"Accomplished",value:3}],r="",s=S.isExist("todoList")?S.get("todoList"):[{id:G(),title:"todo1",checked:!0},{id:G(),title:"todo2",checked:!1}];function a(){n("typeCollapse",o=!o)}function i(t){n("type",c=l.find(e=>e.value===t)),a()}function d(t,e){return n("todos",s=s.map(n=>(n.id===t&&(n={...n,...e}),n))),S.set("todoList",s),1}function u(t){let e=-1;s.find((n,o)=>{if(n.id===t)return e=o,o}),e>=0&&(s.splice(e,1),S.set("todoList",s),n("todos",s))}return{typeCollapse:o,type:c,types:l,todoTitle:r,todos:s,toggleType:a,changType:i,addTodo:function(){n("todos",s=s.concat({id:G(),title:r,checked:!1})),n("todoTitle",r=""),S.set("todoList",s),forceUpdate=!0},updateTodo:d,removeTodo:u,toggle_handler:function(){return a()},change_handler:function(t){return i(t.detail.value)},check_handler:function(t){return d(t.detail.id,t.detail.value)},remove_handler:function(t){return u(t.detail.id)},input_input_handler:function(){r=this.value,n("todoTitle",r)}}}return new class extends O{constructor(t){super(),A(this,t,K,z,l,[])}}({target:document.body})}();
//# sourceMappingURL=app.js.map
